import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Card } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Input } from '@/components/ui/input';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import Icon from '@/components/ui/icon';

interface Recipe {
  id: number;
  title: string;
  image: string;
  time: number;
  difficulty: 'easy' | 'medium' | 'hard';
  category: string;
  ingredients: string[];
  steps: string[];
}

const recipes: Recipe[] = [
  {
    id: 1,
    title: 'Паста Карбонара',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/fd638a00-e8e9-48ef-9db3-0d8e619990e1.jpg',
    time: 30,
    difficulty: 'medium',
    category: 'Основные блюда',
    ingredients: ['Спагетти 400г', 'Бекон 200г', 'Яйца 4шт', 'Пармезан 100г', 'Чеснок 2 зубчика', 'Оливковое масло', 'Соль, перец'],
    steps: [
      'Поставьте большую кастрюлю с водой на сильный огонь. Когда вода закипит, добавьте 1 столовую ложку соли и опустите спагетти. Варите согласно инструкции на упаковке минус 1 минуту, чтобы паста осталась аль денте. Перед сливом обязательно отлейте 1 стакан воды от варки.',
      'Пока варится паста, нарежьте бекон полосками шириной 1 см. Разогрейте сковороду на среднем огне, добавьте 1 столовую ложку оливкового масла. Обжаривайте бекон 5-7 минут до золотистой корочки. За минуту до готовности добавьте измельченный чеснок.',
      'В глубокой миске взбейте венчиком 4 яйца до однородности. Добавьте 80г натертого пармезана и щепотку свежемолотого черного перца. Тщательно перемешайте до получения кремообразной массы.',
      'Слейте пасту и сразу же верните её в горячую кастрюлю. Снимите с огня. Добавьте бекон с чесноком, влейте яичную смесь и быстро перемешивайте, постепенно добавляя воду от варки (50-100мл), пока соус не станет кремообразным. Яйца не должны свернуться!',
      'Немедленно разложите карбонару по подогретым тарелкам. Посыпьте оставшимся пармезаном (20г), свежемолотым черным перцем и при желании добавьте свежую петрушку. Подавайте сразу, пока паста горячая.'
    ]
  },
  {
    id: 2,
    title: 'Шоколадный торт',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/c83a8873-5e04-4d04-8a45-5c44c47ad649.jpg',
    time: 90,
    difficulty: 'hard',
    category: 'Десерты',
    ingredients: ['Мука 200г', 'Какао 50г', 'Сахар 180г', 'Яйца 3шт', 'Масло сливочное 150г', 'Разрыхлитель 1ч.л.', 'Ягоды для украшения'],
    steps: [
      'Разогрейте духовку до 180°C. Подготовьте форму диаметром 22-24 см: смажьте сливочным маслом и присыпьте мукой или застелите пергаментной бумагой.',
      'В большой миске просейте муку (200г), какао-порошок (50г) и разрыхлитель (1 ч.л.). Тщательно перемешайте венчиком, чтобы не было комочков. Просеивание делает тесто более воздушным.',
      'В отдельной миске взбейте миксером 3 яйца со 180г сахара на высокой скорости 5-7 минут. Масса должна увеличиться в объеме в 2-3 раза, стать светлой и пышной. При поднятии венчика должна оставаться лента на поверхности.',
      'Растопите 150г сливочного масла и дайте немного остыть. Аккуратно введите сухую смесь в яичную массу порциями, перемешивая лопаткой снизу вверх. Затем влейте растопленное масло тонкой струйкой и бережно вмешайте до однородности.',
      'Вылейте тесто в подготовленную форму и разровняйте поверхность. Выпекайте 40-45 минут. Готовность проверяйте деревянной шпажкой — она должна выходить сухой. Дайте торту остыть в форме 10 минут, затем переложите на решетку до полного остывания.',
      'Полностью остывший торт покройте шоколадной глазурью или ганашем. Украсьте свежими ягодами (малина, клубника, черника), листиками мяты и тертым шоколадом. Для лучшего вкуса дайте торту настояться 2-3 часа в холодильнике.'
    ]
  },
  {
    id: 3,
    title: 'Тост с авокадо',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/2c15f40d-e98b-48ff-87af-9bf28fb6d480.jpg',
    time: 15,
    difficulty: 'easy',
    category: 'Завтраки',
    ingredients: ['Хлеб цельнозерновой 2 ломтика', 'Авокадо 1шт', 'Яйцо пашот 1шт', 'Лимонный сок', 'Соль, перец', 'Кунжут'],
    steps: [
      'Нарежьте цельнозерновой хлеб ломтиками толщиной 1-1.5 см. Подсушите в тостере 2-3 минуты до золотистого цвета или обжарьте на сухой сковороде с двух сторон. Хлеб должен быть хрустящим снаружи и мягким внутри.',
      'Разрежьте спелое авокадо пополам, удалите косточку. Выскребите мякоть ложкой в миску. Добавьте сок половины лимона, щепотку соли и свежемолотый черный перец. Разомните вилкой до состояния крем-пасты (можно оставить небольшие кусочки для текстуры).',
      'Вскипятите воду в небольшой кастрюле, добавьте 1 ст.л. уксуса. Создайте воронку, помешивая воду ложкой. Разбейте яйцо в чашку и аккуратно опустите в центр воронки. Варите 3-4 минуты на медленном огне. Достаньте шумовкой и промокните бумажным полотенцем.',
      'Щедрым слоем намажьте авокадную пасту на теплый тост, распределяя ее равномерно по всей поверхности. Можно слегка сбрызнуть оливковым маслом для дополнительного вкуса.',
      'Осторожно переложите яйцо пашот на авокадо, стараясь не повредить желток. Слегка надрежьте яйцо ножом — желток должен красиво растечься по тосту.',
      'Посыпьте тост обжаренным кунжутом, хлопьями чили, свежемолотым черным перцем и морской солью. Можно добавить микрозелень, семена чиа или тыквенные семечки. Подавайте немедленно, пока яйцо горячее.'
    ]
  },
  {
    id: 4,
    title: 'Рамен с курицей',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/efdb7d06-e935-4d3b-a9f7-6d0ebf251487.jpg',
    time: 45,
    difficulty: 'medium',
    category: 'Основные блюда',
    ingredients: ['Лапша рамен 200г', 'Куриная грудка 300г', 'Куриный бульон 1л', 'Яйца 2шт', 'Зеленый лук 3 стебля', 'Имбирь 20г', 'Чеснок 3 зубчика', 'Соевый соус 3 ст.л.', 'Кунжутное масло 1 ст.л.', 'Бок-чой 150г'],
    steps: [
      'Приготовьте бульон: в кастрюлю налейте 1л куриного бульона, добавьте тонко нарезанный имбирь (20г), измельченный чеснок (3 зубчика) и 2 ст.л. соевого соуса. Доведите до кипения и варите на медленном огне 15 минут, чтобы ароматы раскрылись.',
      'Куриную грудку (300г) нарежьте тонкими полосками. Разогрейте сковороду с 1 ст.л. кунжутного масла на сильном огне и обжарьте курицу 4-5 минут до золотистой корочки. Добавьте 1 ст.л. соевого соуса в конце приготовления.',
      'Отварите яйца всмятку: опустите яйца в кипящую воду ровно на 6 минут, затем сразу переложите в ледяную воду на 2 минуты. Аккуратно очистите и разрежьте пополам — желток должен быть жидким.',
      'Приготовьте лапшу согласно инструкции на упаковке (обычно 3-4 минуты в кипящей воде). Слейте воду и промойте холодной водой, чтобы остановить приготовление.',
      'Бок-чой разрежьте пополам и бланшируйте в кипящем бульоне 2 минуты до мягкости. Выньте шумовкой и отложите.',
      'Соберите рамен: разложите лапшу по глубоким мискам, залейте горячим бульоном. Выложите сверху курицу, половинки яиц, бок-чой и нарезанный зеленый лук. Сбрызните кунжутным маслом и подавайте немедленно с палочками.'
    ]
  },
  {
    id: 5,
    title: 'Греческий салат',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/e5f6d3f5-6fa1-4584-a3ee-5771b96e8e65.jpg',
    time: 20,
    difficulty: 'easy',
    category: 'Салаты',
    ingredients: ['Помидоры 400г', 'Огурцы 300г', 'Фета 200г', 'Маслины 100г', 'Красный лук 1шт', 'Оливковое масло 4 ст.л.', 'Лимонный сок 2 ст.л.', 'Орегано сушеный 1 ч.л.', 'Соль, перец'],
    steps: [
      'Подготовьте овощи: помидоры (400г) вымойте и нарежьте крупными дольками, огурцы (300г) нарежьте толстыми полукружками. Для греческого салата важна крупная нарезка — так овощи лучше сохраняют сок и текстуру.',
      'Красный лук очистите и нарежьте тонкими полукольцами. Чтобы убрать горечь, залейте лук холодной водой на 10 минут, затем слейте воду и промокните бумажным полотенцем.',
      'В большой салатной миске соедините помидоры, огурцы и лук. Добавьте маслины без косточек (100г). Аккуратно перемешайте овощи руками, чтобы не повредить их.',
      'Приготовьте заправку: в небольшой миске смешайте 4 ст.л. оливкового масла Extra Virgin, 2 ст.л. свежевыжатого лимонного сока, 1 ч.л. сушеного орегано, соль и свежемолотый черный перец. Энергично взбейте вилкой до эмульсии.',
      'Полейте салат заправкой и аккуратно перемешайте. Фету (200г) нарежьте крупными кубиками 2х2 см и выложите сверху на салат. Традиционно фету не перемешивают с салатом!',
      'Посыпьте салат дополнительной щепоткой орегано, сбрызните оливковым маслом и подавайте сразу же. Греческий салат особенно хорош с свежим теплым хлебом питой.'
    ]
  },
  {
    id: 6,
    title: 'Панкейки с ягодами',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/e5fedb28-8258-4297-a3bd-230a2d44efce.jpg',
    time: 25,
    difficulty: 'easy',
    category: 'Завтраки',
    ingredients: ['Мука 250г', 'Молоко 300мл', 'Яйца 2шт', 'Сахар 2 ст.л.', 'Разрыхлитель 2 ч.л.', 'Ванильный экстракт 1 ч.л.', 'Масло сливочное 30г', 'Ягоды 200г', 'Кленовый сироп'],
    steps: [
      'В большой миске просейте 250г муки и 2 ч.л. разрыхлителя. Добавьте 2 ст.л. сахара и щепотку соли. Перемешайте венчиком, чтобы разрыхлитель равномерно распределился по муке.',
      'В отдельной миске взбейте 2 яйца с 300мл молока комнатной температуры и 1 ч.л. ванильного экстракта. Растопите 30г сливочного масла и добавьте в жидкую смесь, перемешайте.',
      'Влейте жидкую смесь в сухие ингредиенты и быстро перемешайте венчиком до однородности. Небольшие комочки допустимы — не перемешивайте слишком долго, иначе панкейки получатся резиновыми. Дайте тесту отдохнуть 5 минут.',
      'Разогрейте сковороду с антипригарным покрытием на среднем огне. Слегка смажьте сливочным маслом. Вылейте тесто половником (около 1/4 стакана на панкейк) и готовьте 2-3 минуты, пока не появятся пузырьки на поверхности.',
      'Переверните панкейк лопаткой и жарьте еще 1-2 минуты до золотистого цвета. Готовые панкейки держите в теплой духовке (100°C), пока готовите остальные.',
      'Сложите панкейки стопкой на тарелку, выложите сверху свежие ягоды (200г): клубнику, чернику, малину. Щедро полейте кленовым сиропом, добавьте кусочек сливочного масла и сахарную пудру. Подавайте горячими!'
    ]
  },
  {
    id: 7,
    title: 'Куриная грудка с овощами',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/7845656d-a5ab-4bd5-9887-8378ef2d1fa8.jpg',
    time: 40,
    difficulty: 'medium',
    category: 'Основные блюда',
    ingredients: ['Куриная грудка 500г', 'Брокколи 300г', 'Морковь 2шт', 'Болгарский перец 2шт', 'Оливковое масло 3 ст.л.', 'Чеснок 4 зубчика', 'Лимон 1шт', 'Розмарин свежий 3 веточки', 'Соль, перец'],
    steps: [
      'Разогрейте духовку до 200°C. Куриные грудки (500г) промойте, обсушите бумажным полотенцем и разрежьте каждую вдоль пополам, чтобы получились плоские медальоны. Это ускорит приготовление и обеспечит равномерную прожарку.',
      'Приготовьте маринад: смешайте 2 ст.л. оливкового масла, сок половины лимона, 2 измельченных зубчика чеснока, листики от 2 веточек розмарина, соль и перец. Натрите курицу маринадом и оставьте на 15 минут.',
      'Подготовьте овощи: брокколи (300г) разделите на соцветия, морковь очистите и нарежьте брусочками, болгарские перцы нарежьте крупными кусками. Все овощи должны быть примерно одинакового размера для равномерного запекания.',
      'На большом противне, застеленном пергаментом, выложите овощи. Полейте 1 ст.л. оливкового масла, добавьте оставшийся чеснок и розмарин, посолите и поперчите. Перемешайте руками, чтобы масло покрыло все овощи.',
      'Разогрейте сковороду-гриль на сильном огне. Обжарьте куриные грудки по 2 минуты с каждой стороны до красивых полосок гриля. Переложите курицу на противень к овощам.',
      'Запекайте в духовке 20-25 минут до полной готовности курицы (внутренняя температура 75°C). За 5 минут до готовности сбрызните лимонным соком. Дайте курице отдохнуть 5 минут перед подачей. Подавайте с дольками лимона.'
    ]
  },
  {
    id: 8,
    title: 'Тирамису',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/ea4cb488-3b1c-4b93-8538-41222abf7b2c.jpg',
    time: 120,
    difficulty: 'hard',
    category: 'Десерты',
    ingredients: ['Печенье Савоярди 300г', 'Маскарпоне 500г', 'Яйца 5шт', 'Сахар 150г', 'Кофе эспрессо 300мл', 'Ликер Амаретто 50мл', 'Какао-порошок 3 ст.л.', 'Ванильный экстракт 1 ч.л.'],
    steps: [
      'Приготовьте крепкий эспрессо (300мл) и дайте ему полностью остыть до комнатной температуры. Добавьте 50мл ликера Амаретто (или Марсала) для аромата. Перелейте кофе в широкую миску для удобства обмакивания печенья.',
      'Отделите желтки от белков 5 яиц в разные миски. К желткам добавьте 100г сахара и 1 ч.л. ванильного экстракта. Взбивайте миксером 3-4 минуты до побеления и увеличения в объеме — масса должна стать светлой и пышной.',
      'Добавьте 500г маскарпоне комнатной температуры к желткам. Взбивайте на низкой скорости до однородности — не перевзбивайте, иначе крем расслоится. Консистенция должна быть гладкой и кремовой.',
      'В чистой сухой миске взбейте белки с оставшимися 50г сахара до мягких пиков. Аккуратно введите белки в крем маскарпоне порциями, используя силиконовую лопатку и движения снизу вверх, чтобы сохранить воздушность.',
      'Быстро обмакните печенье Савоярди (по одному) в кофе с обеих сторон — буквально по 1 секунде на каждую сторону! Печенье должно пропитаться, но не размокнуть. Выложите первый слой печенья в форму 20х30 см.',
      'Выложите половину крема на печенье и равномерно распределите. Повторите слой: печенье в кофе, затем оставшийся крем. Накройте пленкой и поставьте в холодильник минимум на 6 часов, лучше на ночь. Перед подачей щедро посыпьте какао-порошком через сито.'
    ]
  },
  {
    id: 9,
    title: 'Салат Капрезе',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/8dd3e151-0d04-4615-9c64-fc64ae7baa80.jpg',
    time: 10,
    difficulty: 'easy',
    category: 'Салаты',
    ingredients: ['Моцарелла Буффало 250г', 'Томаты 4шт крупных', 'Базилик свежий 1 пучок', 'Оливковое масло Extra Virgin 4 ст.л.', 'Бальзамический уксус 2 ст.л.', 'Морская соль', 'Черный перец'],
    steps: [
      'Выберите спелые томаты одинакового размера и моцареллу Буффало высокого качества — от этого зависит 90% успеха блюда. Томаты и сыр должны быть комнатной температуры для лучшего вкуса.',
      'Нарежьте томаты и моцареллу ломтиками толщиной около 0.5-0.7 см. Старайтесь делать срезы ровными и одинаковой толщины — это важно для красивой подачи.',
      'На большом плоском блюде выкладывайте ломтики томата и моцареллы по очереди, создавая красивый веер или круг. Слегка накладывайте кусочки друг на друга для эффектной презентации.',
      'Листья свежего базилика промойте и обсушите. Крупные листья можно порвать руками, мелкие оставить целыми. Распределите базилик между ломтиками томата и сыра.',
      'Посолите крупной морской солью и приправьте свежемолотым черным перцем. Щедро полейте оливковым маслом Extra Virgin — не жалейте масла, оно создает основу вкуса.',
      'Сбрызните бальзамическим уксусом (можно использовать бальзамический крем для более густой консистенции). Подавайте немедленно с хрустящим чиабаттой или фокаччей.'
    ]
  },
  {
    id: 10,
    title: 'Томатный суп-крем',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/b3150475-f6e8-4bed-9f81-76229a59a861.jpg',
    time: 35,
    difficulty: 'easy',
    category: 'Супы',
    ingredients: ['Томаты 1кг', 'Лук репчатый 2шт', 'Чеснок 4 зубчика', 'Морковь 1шт', 'Овощной бульон 500мл', 'Сливки 33% 200мл', 'Оливковое масло 3 ст.л.', 'Базилик свежий 1 пучок', 'Сахар 1 ч.л.', 'Соль, перец'],
    steps: [
      'Разогрейте духовку до 200°C. Разрежьте томаты (1кг) пополам, выложите на противень срезом вверх. Добавьте неочищенные зубчики чеснока (4 шт). Сбрызните 2 ст.л. оливкового масла, посолите и поперчите. Запекайте 25 минут до карамелизации.',
      'Пока томаты запекаются, мелко нарежьте лук (2 шт) и морковь (1 шт). В большой кастрюле разогрейте 1 ст.л. оливкового масла на среднем огне. Обжаривайте лук 5 минут до прозрачности, затем добавьте морковь и готовьте еще 3 минуты.',
      'Достаньте томаты из духовки, выдавите запеченный чеснок из шкурок. Переложите томаты с чесноком в кастрюлю к луку и моркови. Добавьте 500мл овощного бульона и 1 ч.л. сахара (он нейтрализует кислоту томатов).',
      'Доведите до кипения, уменьшите огонь и варите 15 минут под крышкой. Добавьте половину свежего базилика, порванного руками. Снимите с огня и дайте слегка остыть 5 минут.',
      'Пробейте суп погружным блендером до однородной кремовой консистенции. Процедите через сито для идеальной гладкости (опционально, но рекомендуется). Верните суп на плиту, влейте 150мл сливок и прогрейте, не доводя до кипения.',
      'Разлейте суп по тарелкам, сделайте красивый завиток из оставшихся сливок, украсьте свежим базиликом и свежемолотым перцем. Подавайте с хрустящими гренками или сырными крутонами.'
    ]
  },
  {
    id: 11,
    title: 'Борщ классический',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/a8984ba6-b2e4-4e0d-a4a5-160349be38be.jpg',
    time: 90,
    difficulty: 'medium',
    category: 'Супы',
    ingredients: ['Говядина на кости 500г', 'Свекла 2шт средних', 'Капуста 300г', 'Картофель 3шт', 'Морковь 1шт', 'Лук 1шт', 'Томатная паста 2 ст.л.', 'Чеснок 3 зубчика', 'Уксус 1 ст.л.', 'Растительное масло 3 ст.л.', 'Лавровый лист 2шт', 'Сметана', 'Укроп', 'Соль, перец'],
    steps: [
      'В большой кастрюле (5л) залейте говядину на кости (500г) холодной водой (3л), доведите до кипения. Снимите пену шумовкой. Уменьшите огонь, добавьте 1 луковицу целиком и варите бульон 1.5 часа под крышкой до мягкости мяса.',
      'Пока варится бульон, подготовьте овощи. Свеклу (2 шт) очистите и натрите на крупной терке. Сразу добавьте 1 ст.л. уксуса и перемешайте — это сохранит яркий цвет. Морковь и оставшийся лук мелко нарежьте.',
      'На сковороде разогрейте 3 ст.л. растительного масла. Обжарьте лук до золотистого цвета 3-4 минуты, добавьте морковь и готовьте еще 3 минуты. Добавьте 2 ст.л. томатной пасты, перемешайте и готовьте минуту.',
      'В зажарку добавьте натертую свеклу, перемешайте и тушите на среднем огне 10 минут, периодически помешивая. Это придаст борщу насыщенный цвет и сладковатый вкус.',
      'Достаньте мясо из бульона, отделите от костей и нарежьте кусочками. Бульон процедите. Верните бульон в кастрюлю, доведите до кипения. Добавьте нарезанный картофель (3 шт) и варите 10 минут.',
      'Добавьте нашинкованную капусту (300г) и свекольную зажарку. Варите 10 минут. Добавьте мясо, лавровый лист, соль, перец. Варите еще 5 минут. В конце добавьте измельченный чеснок (3 зубчика). Дайте настояться под крышкой 15 минут.',
      'Подавайте борщ горячим, положив в каждую тарелку ложку сметаны и посыпав рубленым укропом. Идеально с черным хлебом и салом.'
    ]
  },
  {
    id: 12,
    title: 'Грибной крем-суп',
    image: 'https://cdn.poehali.dev/projects/adaaa3bd-20ee-426f-a572-c7374b6d9e74/files/1d70af5a-52bb-4ad1-a379-e223e66c0e2a.jpg',
    time: 40,
    difficulty: 'medium',
    category: 'Супы',
    ingredients: ['Шампиньоны 500г', 'Белые грибы сушеные 30г', 'Лук-порей 1 стебель', 'Картофель 2шт', 'Сливки 33% 250мл', 'Масло сливочное 50г', 'Чеснок 2 зубчика', 'Белое вино 100мл', 'Тимьян свежий 3 веточки', 'Овощной бульон 700мл', 'Соль, перец'],
    steps: [
      'Залейте сушеные белые грибы (30г) 200мл кипятка и оставьте на 20 минут. Затем процедите через марлю, отжав грибы — грибной настой сохраните! Нарубите размоченные грибы мелко.',
      'Свежие шампиньоны (500г) очистите, 100г отложите для украшения и нарежьте тонкими пластинками. Остальные грибы крупно нарежьте. Лук-порей нарежьте тонкими кольцами (используйте белую и светло-зеленую части).',
      'В большой кастрюле растопите 30г сливочного масла на среднем огне. Обжарьте основную часть шампиньонов и белые грибы 7-8 минут до золотистого цвета и испарения жидкости. Добавьте лук-порей и готовьте 5 минут до мягкости.',
      'Влейте 100мл белого вина и дайте выпариться 2 минуты. Добавьте нарезанный кубиками картофель (2 шт), грибной настой, 700мл овощного бульона и веточки тимьяна. Доведите до кипения и варите 20 минут до мягкости картофеля.',
      'Уберите веточки тимьяна. Пробейте суп блендером до гладкой консистенции. Верните на плиту, добавьте 200мл сливок, измельченный чеснок, соль и перец. Прогрейте 2-3 минуты, не доводя до кипения.',
      'На отдельной сковороде обжарьте отложенные грибные пластинки на оставшемся масле до хрустящей корочки. Разлейте суп по тарелкам, украсьте жареными грибами, сбрызните сливками и посыпьте свежим тимьяном.'
    ]
  }
];

const tips = [
  { id: 1, title: 'Секрет идеальной пасты', text: 'Добавьте немного воды от варки пасты в соус — крахмал сделает его кремообразным и поможет соусу лучше держаться на макаронах.' },
  { id: 2, title: 'Сочное мясо', text: 'Дайте мясу отдохнуть 5-10 минут после приготовления — соки распределятся равномерно, и мясо станет сочнее.' },
  { id: 3, title: 'Ароматная выпечка', text: 'Используйте комнатной температуры ингредиенты для теста — они лучше смешиваются и дают более воздушную текстуру.' }
];

const Index = () => {
  const [selectedRecipe, setSelectedRecipe] = useState<Recipe | null>(null);
  const [timeFilter, setTimeFilter] = useState<string>('all');
  const [difficultyFilter, setDifficultyFilter] = useState<string>('all');
  const [searchQuery, setSearchQuery] = useState('');

  const filteredRecipes = recipes.filter(recipe => {
    const matchesTime = timeFilter === 'all' || 
      (timeFilter === '15' && recipe.time <= 15) ||
      (timeFilter === '30' && recipe.time <= 30) ||
      (timeFilter === '60' && recipe.time <= 60);
    
    const matchesDifficulty = difficultyFilter === 'all' || recipe.difficulty === difficultyFilter;
    const matchesSearch = recipe.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
      recipe.ingredients.some(ing => ing.toLowerCase().includes(searchQuery.toLowerCase()));
    
    return matchesTime && matchesDifficulty && matchesSearch;
  });

  const getDifficultyColor = (difficulty: string) => {
    switch(difficulty) {
      case 'easy': return 'bg-green-500';
      case 'medium': return 'bg-yellow-500';
      case 'hard': return 'bg-red-500';
      default: return 'bg-gray-500';
    }
  };

  const getDifficultyText = (difficulty: string) => {
    switch(difficulty) {
      case 'easy': return 'Легко';
      case 'medium': return 'Средне';
      case 'hard': return 'Сложно';
      default: return difficulty;
    }
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50">
      <header className="bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50">
        <div className="container mx-auto px-4 py-4">
          <div className="flex items-center justify-between">
            <div className="flex items-center gap-2">
              <div className="w-10 h-10 bg-[#0077FF] rounded-lg flex items-center justify-center">
                <span className="text-white text-xl font-bold">В</span>
              </div>
              <h1 className="text-2xl font-bold text-[#2C2D2E]">
                кострюле
              </h1>
            </div>
            <nav className="hidden md:flex gap-6">
              <a href="#recipes" className="text-gray-700 hover:text-primary transition-colors font-medium">Рецепты</a>
              <a href="#tips" className="text-gray-700 hover:text-primary transition-colors font-medium">Хитрости</a>
            </nav>
          </div>
        </div>
      </header>

      <section className="py-20 px-4">
        <div className="container mx-auto">
          <div className="max-w-4xl mx-auto text-center animate-fade-in">
            <h2 className="text-5xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-primary via-secondary to-accent bg-clip-text text-transparent">
              Готовьте с удовольствием
            </h2>
            <p className="text-xl text-gray-600 mb-8">
              Простые и вкусные рецепты для каждого дня. От быстрых завтраков до изысканных ужинов.
            </p>
            <Button size="lg" className="hover-scale text-lg px-8 py-6">
              <Icon name="ChefHat" size={24} className="mr-2" />
              Начать готовить
            </Button>
          </div>
        </div>
      </section>

      <section id="recipes" className="py-16 px-4">
        <div className="container mx-auto">
          <h2 className="text-4xl font-bold mb-8 text-center">Наши рецепты</h2>
          
          <div className="max-w-5xl mx-auto mb-8 space-y-4">
            <div className="flex flex-col md:flex-row gap-4">
              <Input
                placeholder="Поиск по названию или ингредиентам..."
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                className="flex-1"
              />
            </div>
            
            <div className="flex flex-col sm:flex-row gap-4">
              <Select value={timeFilter} onValueChange={setTimeFilter}>
                <SelectTrigger className="w-full sm:w-[200px]">
                  <SelectValue placeholder="Время приготовления" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="all">Любое время</SelectItem>
                  <SelectItem value="15">До 15 минут</SelectItem>
                  <SelectItem value="30">До 30 минут</SelectItem>
                  <SelectItem value="60">До 1 часа</SelectItem>
                </SelectContent>
              </Select>

              <Select value={difficultyFilter} onValueChange={setDifficultyFilter}>
                <SelectTrigger className="w-full sm:w-[200px]">
                  <SelectValue placeholder="Сложность" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="all">Любая сложность</SelectItem>
                  <SelectItem value="easy">Легко</SelectItem>
                  <SelectItem value="medium">Средне</SelectItem>
                  <SelectItem value="hard">Сложно</SelectItem>
                </SelectContent>
              </Select>

              {(timeFilter !== 'all' || difficultyFilter !== 'all' || searchQuery) && (
                <Button 
                  variant="outline" 
                  onClick={() => {
                    setTimeFilter('all');
                    setDifficultyFilter('all');
                    setSearchQuery('');
                  }}
                >
                  Сбросить фильтры
                </Button>
              )}
            </div>
          </div>

          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
            {filteredRecipes.map((recipe, index) => (
              <Card 
                key={recipe.id} 
                className="overflow-hidden hover-scale cursor-pointer animate-fade-in"
                style={{ animationDelay: `${index * 0.1}s` }}
                onClick={() => setSelectedRecipe(recipe)}
              >
                <div className="relative h-64 overflow-hidden">
                  <img 
                    src={recipe.image} 
                    alt={recipe.title}
                    className="w-full h-full object-cover transition-transform duration-500 hover:scale-110"
                  />
                  <div className="absolute top-4 right-4">
                    <Badge className={`${getDifficultyColor(recipe.difficulty)} text-white`}>
                      {getDifficultyText(recipe.difficulty)}
                    </Badge>
                  </div>
                </div>
                <div className="p-6">
                  <h3 className="text-2xl font-bold mb-3">{recipe.title}</h3>
                  <div className="flex items-center gap-4 text-sm text-gray-600">
                    <span className="flex items-center gap-1">
                      <Icon name="Clock" size={16} />
                      {recipe.time} мин
                    </span>
                    <Badge variant="secondary">{recipe.category}</Badge>
                  </div>
                </div>
              </Card>
            ))}
          </div>

          {filteredRecipes.length === 0 && (
            <div className="text-center py-12">
              <Icon name="SearchX" size={48} className="mx-auto mb-4 text-gray-400" />
              <p className="text-xl text-gray-600">Рецепты не найдены. Попробуйте изменить фильтры.</p>
            </div>
          )}
        </div>
      </section>

      {selectedRecipe && (
        <div className="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in" onClick={() => setSelectedRecipe(null)}>
          <Card className="max-w-3xl w-full max-h-[90vh] overflow-y-auto animate-scale-in" onClick={(e) => e.stopPropagation()}>
            <div className="relative h-80">
              <img 
                src={selectedRecipe.image} 
                alt={selectedRecipe.title}
                className="w-full h-full object-cover"
              />
              <Button 
                variant="secondary" 
                size="icon"
                className="absolute top-4 right-4 rounded-full"
                onClick={() => setSelectedRecipe(null)}
              >
                <Icon name="X" size={20} />
              </Button>
            </div>
            <div className="p-8">
              <h2 className="text-4xl font-bold mb-4">{selectedRecipe.title}</h2>
              <div className="flex items-center gap-4 mb-6">
                <Badge className={`${getDifficultyColor(selectedRecipe.difficulty)} text-white`}>
                  {getDifficultyText(selectedRecipe.difficulty)}
                </Badge>
                <span className="flex items-center gap-2 text-gray-600">
                  <Icon name="Clock" size={20} />
                  {selectedRecipe.time} минут
                </span>
                <Badge variant="secondary">{selectedRecipe.category}</Badge>
              </div>

              <div className="mb-8">
                <h3 className="text-2xl font-bold mb-4 flex items-center gap-2">
                  <Icon name="ShoppingCart" size={24} className="text-primary" />
                  Ингредиенты
                </h3>
                <ul className="space-y-2">
                  {selectedRecipe.ingredients.map((ingredient, idx) => (
                    <li key={idx} className="flex items-start gap-2">
                      <Icon name="Check" size={20} className="text-green-500 mt-0.5" />
                      <span>{ingredient}</span>
                    </li>
                  ))}
                </ul>
              </div>

              <div>
                <h3 className="text-2xl font-bold mb-4 flex items-center gap-2">
                  <Icon name="Flame" size={24} className="text-primary" />
                  Приготовление
                </h3>
                <ol className="space-y-4">
                  {selectedRecipe.steps.map((step, idx) => (
                    <li key={idx} className="flex gap-4">
                      <span className="flex-shrink-0 w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold">
                        {idx + 1}
                      </span>
                      <p className="pt-1">{step}</p>
                    </li>
                  ))}
                </ol>
              </div>
            </div>
          </Card>
        </div>
      )}

      <section id="tips" className="py-16 px-4 bg-gradient-to-r from-primary/5 via-secondary/5 to-accent/5">
        <div className="container mx-auto max-w-6xl">
          <h2 className="text-4xl font-bold mb-12 text-center">Кулинарные хитрости</h2>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
            {tips.map((tip, index) => (
              <Card key={tip.id} className="p-6 hover-scale animate-fade-in" style={{ animationDelay: `${index * 0.1}s` }}>
                <div className="w-12 h-12 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center mb-4">
                  <Icon name="Lightbulb" size={24} className="text-white" />
                </div>
                <h3 className="text-xl font-bold mb-3">{tip.title}</h3>
                <p className="text-gray-600">{tip.text}</p>
              </Card>
            ))}
          </div>
        </div>
      </section>

      <footer className="bg-gray-900 text-white py-12 px-4 mt-16">
        <div className="container mx-auto text-center">
          <div className="flex items-center justify-center gap-2 mb-4">
            <div className="w-10 h-10 bg-[#0077FF] rounded-lg flex items-center justify-center">
              <span className="text-white text-xl font-bold">В</span>
            </div>
            <h2 className="text-3xl font-bold">кострюле</h2>
          </div>
          <p className="text-gray-400 mb-6">Вкусные рецепты для каждого дня</p>
          <div className="flex justify-center gap-6">
            <a href="#" className="text-gray-400 hover:text-white transition-colors">
              <Icon name="Instagram" size={24} />
            </a>
            <a href="#" className="text-gray-400 hover:text-white transition-colors">
              <Icon name="Facebook" size={24} />
            </a>
            <a href="#" className="text-gray-400 hover:text-white transition-colors">
              <Icon name="Youtube" size={24} />
            </a>
          </div>
          <p className="text-gray-500 text-sm mt-8">© 2024 Все права защищены</p>
        </div>
      </footer>
    </div>
  );
};

export default Index;